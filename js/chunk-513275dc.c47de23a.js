(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-513275dc"],{6062:function(t,e,i){"use strict";var a=i("6d61"),s=i("6566");a("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),s)},"615b":function(t,e,i){},"841c":function(t,e,i){"use strict";var a=i("c65b"),s=i("d784"),r=i("825a"),n=i("1d80"),c=i("129f"),l=i("577e"),o=i("dc4a"),u=i("14c3");s("search",(function(t,e,i){return[function(e){var i=n(this),s=void 0==e?void 0:o(e,t);return s?a(s,e,i):new RegExp(e)[t](l(i))},function(t){var a=r(this),s=l(t),n=i(e,a,s);if(n.done)return n.value;var o=a.lastIndex;c(o,0)||(a.lastIndex=0);var d=u(a,s);return c(a.lastIndex,o)||(a.lastIndex=o),null===d?-1:d.index}]}))},"8f5a":function(t,e,i){},9367:function(t,e,i){"use strict";i("cdd9")},cdd9:function(t,e,i){},f2dd:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:""}},[i("h2",{staticClass:"secondary--text"},[t._v("Список рецептов")]),i("v-row",[i("v-col",{staticClass:"d-flex justify-end"},[i("div",{staticClass:"search_select"},[i("v-select",{attrs:{label:"Поиск",items:t.options,"item-value":"value","item-text":"text","return-object":""},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1),i("div",{staticClass:"search_input"},[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Поиск по "+t.getRecipesCount()+" рецептам","single-line":""},on:{input:function(e){return t.onSearchInput()}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])],1),i("FilterByStaple",{on:{filterByStaple:t.onFilterByStaple}}),i("FilterByFeature",{on:{filterByFeature:t.onFilterByFeature}}),!1===t.getLoading()?i("v-row",t._l(t.filteredList,(function(e){return i("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4",xl:"3"}},[i("v-card",{attrs:{width:"360px",height:"360px"}},[i("router-link",{attrs:{to:{name:"RecipeDetails",params:{id:e.id}}}},[i("v-img",{attrs:{src:e.imageLink?e.imageLink:"https://sun9-30.userapi.com/impg/Z6fkeDwvqVVJMW8lviOyW1XyryvE90wVDnSDqw/XJRUwyS8L2s.jpg?size=380x300&quality=96&sign=93e6cf0b8c57ca7ad2c2608c01b4377a",height:"200px"}}),i("v-card-title",[t._v(t._s(e.title))])],1),i("v-card-text",[i("IconStaple",{attrs:{staple:e.staple}}),i("IconFeature",{attrs:{feature:e.feature}})],1)],1)],1)})),1):i("div",[i("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)],1)},s=[],r=i("5530"),n=(i("ac1f"),i("841c"),i("4de4"),i("d3b7"),i("caad"),i("2532"),i("6062"),i("3ca3"),i("ddb0"),i("159b"),i("b64b"),i("52c2")),c=i("4757"),l=i("2f62"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",[i("v-col",[i("v-chip-group",{attrs:{"active-class":"primary--text"}},t._l(t.staples,(function(e){return i("v-chip",{key:e,staticClass:"text-caption",attrs:{outlined:""},on:{click:function(i){return t.filterByStaple(e)}}},[i("IconStaple",{attrs:{staple:e}})],1)})),1)],1)],1)},u=[],d={name:"FilterByStaple",components:{IconStaple:n["a"]},data:function(){return{staples:["all","vegetable","bird","meat","fish","dairy","dessert"]}},methods:{filterByStaple:function(t){this.$emit("filterByStaple",t)}}},h=d,p=i("2877"),f=i("6544"),v=i.n(f),g=i("cc20"),m=(i("8f5a"),i("7efd")),b=i("a9ad"),y=i("58df"),x=Object(y["a"])(m["a"],b["a"]).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},m["a"].options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,Object(r["a"])({},m["a"].options.methods.genData.call(this)))}}}),w=i("62ad"),B=i("0fd9"),C=Object(p["a"])(h,o,u,!1,null,null,null),j=C.exports;v()(C,{VChip:g["a"],VChipGroup:x,VCol:w["a"],VRow:B["a"]});var k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-row",[i("v-col",[i("v-chip-group",{attrs:{"active-class":"primary--text"}},t._l(t.features,(function(e){return i("v-chip",{key:e,staticClass:"text-caption",attrs:{outlined:""},on:{click:function(i){return t.filterByFeature(e)}}},[i("IconFeature",{attrs:{feature:e}})],1)})),1)],1)],1)},F=[],_={name:"FilterByFeature",components:{IconFeature:c["a"]},data:function(){return{features:["all","fast","oven","cauldron","pot","combo"]}},methods:{filterByFeature:function(t){this.$emit("filterByFeature",t)}}},O=_,R=Object(p["a"])(O,k,F,!1,null,null,null),S=R.exports;v()(R,{VChip:g["a"],VChipGroup:x,VCol:w["a"],VRow:B["a"]});var V={name:"RecipesList",components:{IconStaple:n["a"],IconFeature:c["a"],FilterByStaple:j,FilterByFeature:S},data:function(){return{search:"",options:[{value:"title",text:"По названию"},{value:"ingredients",text:"По ингредиентам"}],selected:{value:"title",text:"По названию"},filteredList:[]}},mounted:function(){0===this.filteredList.length&&this.fetchRecipes()},updated:function(){0===this.filteredList.length&&""===this.search&&this.showAllRecipes()},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(l["b"])(["fetchRecipes"])),Object(l["c"])(["getAllRecipes","getRecipesCount","getLoading"])),{},{showAllRecipes:function(){this.filteredList=this.getAllRecipes()},onFilterByStaple:function(t){"all"===t?this.showAllRecipes():this.filteredList=this.getAllRecipes().filter((function(e){return e.staple===t}))},onFilterByFeature:function(t){"all"===t?this.showAllRecipes():this.filteredList=this.getAllRecipes().filter((function(e){return e.feature===t}))},onSearchInput:function(){var t=this.search.toLowerCase();""!==t&&"title"===this.selected.value&&(this.filteredList=this.searchByTitle(t)),""!==t&&"ingredients"===this.selected.value&&(this.filteredList=this.searchByIngredients(t))},searchByTitle:function(t){return this.getAllRecipes().filter((function(e){return e.title.toLowerCase().includes(t)}))},searchByIngredients:function(t){var e=new Set;return this.getAllRecipes().forEach((function(i){i.ingredients&&Object.keys(i.ingredients).forEach((function(a){a.toLowerCase().includes(t)&&e.add(i)}))})),e}})},L=V,I=(i("9367"),i("a9e3"),i("0481"),i("4069"),i("615b"),i("10d2")),A=i("297c"),E=i("1c87"),$=Object(y["a"])(A["a"],E["a"],I["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({"v-card":!0},E["a"].options.computed.classes.call(this)),{},{"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised},I["a"].options.computed.classes.call(this))},styles:function(){var t=Object(r["a"])({},I["a"].options.computed.styles.call(this));return this.img&&(t.background='url("'.concat(this.img,'") center center / cover no-repeat')),t}},methods:{genProgress:function(){var t=A["a"].options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render:function(t){var e=this.generateRouteLink(),i=e.tag,a=e.data;return a.style=this.styles,this.isClickable&&(a.attrs=a.attrs||{},a.attrs.tabindex=0),t(i,this.setBackgroundColor(this.color,a),[this.genProgress(),this.$slots.default])}}),T=i("80d2"),D=(Object(T["h"])("v-card__actions"),Object(T["h"])("v-card__subtitle"),Object(T["h"])("v-card__text")),J=Object(T["h"])("v-card__title"),P=i("a523"),q=i("adda"),z=i("490a"),G=i("b974"),W=i("8654"),X=Object(p["a"])(L,a,s,!1,null,"c2d4d35e",null);e["default"]=X.exports;v()(X,{VCard:$,VCardText:D,VCardTitle:J,VCol:w["a"],VContainer:P["a"],VImg:q["a"],VProgressCircular:z["a"],VRow:B["a"],VSelect:G["a"],VTextField:W["a"]})}}]);
//# sourceMappingURL=chunk-513275dc.c47de23a.js.map